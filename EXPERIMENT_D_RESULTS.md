# Experiment D: RAG增强实验（Retrieval-Augmented Generation）

## 实验摘要

- **实验时间**：见实验日志
- **RAGFlow知识库API**：未能创建成功，本轮所有任务均降级为普通LLM
- **评估体系**：已打通，支持RAG与非RAG对比

## 主要实验指标

| 指标               | 数值    | 说明                         |
|--------------------|---------|------------------------------|
| 总任务数           | 5       | 对比任务总数                 |
| RAG优势任务占比    | 40.0%   | RAG优于非RAG的任务比例        |
| 平均质量提升       | -0.019  | RAG相较非RAG的平均质量提升    |
| 平均耗时提升       | -0.22s  | RAG相较非RAG的平均耗时提升    |
| RAG平均质量分      | 0.297   | 仅RAG模式下的平均质量分       |
| 非RAG平均质量分    | 0.316   | 仅普通LLM下的平均质量分       |

## 各类型任务RAG优势

| 任务类型           | 任务数 | RAG优势数 | 优势占比 | 平均提升  |
|--------------------|--------|-----------|----------|-----------|
| Summarization      |   1    |     0     |   0%     |  -0.022   |
| Research           |   2    |     1     |  50%     |  -0.032   |
| Question Answering |   2    |     1     |  50%     |  -0.005   |

## 详细任务对比

| 任务ID      | 类型               | RAG质量 | 非RAG质量 | 提升    | RAG优势 | 检索文档数 |
|-------------|--------------------|---------|-----------|---------|---------|------------|
| rag_comp_1  | question_answering | 0.323   | 0.294     | +0.029  | ✅      | 0          |
| rag_comp_2  | research           | 0.394   | 0.497     | -0.103  | ❌      | 0          |
| rag_comp_3  | summarization      | 0.111   | 0.133     | -0.022  | ❌      | 0          |
| rag_comp_4  | research           | 0.356   | 0.317     | +0.039  | ✅      | 0          |
| rag_comp_5  | question_answering | 0.298   | 0.336     | -0.039  | ❌      | 0          |

## 关键分析与建议

- 本轮实验因RAGFlow知识库API未能创建，所有任务均降级为普通LLM，RAG未能检索到文档（检索文档数均为0）。
- 评估体系和对比流程已完全打通，RAG与非RAG的质量、耗时、优势等指标均可自动统计。
- 当前RAG模式下平均质量略低于非RAG，主要因未能检索到知识库文档。
- **建议**：
  1. 检查RAGFlow服务API路径，确保知识库创建和文档上传接口可用。
  2. 成功接入RAGFlow后，RAG优势将更明显，建议再次运行实验。
  3. 可扩展更多任务类型和更大规模数据集，进一步验证RAG增强效果。

---

> 本报告由实验脚本自动生成，详细日志见`experiment.log`。 